<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>인증 (OAuth) 오류 - OpenClaw Guide</title>
  <meta name="description" content="인증 (OAuth) 오류 - 12개 오류 유형과 검증된 해결 방법. OpenClaw 오류 해결 가이드.">
  <link rel="canonical" href="https://openclaw-error-guide.vercel.app/pages/oauth.html">
  <meta property="og:type" content="website">
  <meta property="og:title" content="인증 (OAuth) 오류 - OpenClaw Guide">
  <meta property="og:description" content="인증 (OAuth) 오류 - 12개 오류 유형과 검증된 해결 방법. OpenClaw 오류 해결 가이드.">
  <meta property="og:url" content="https://openclaw-error-guide.vercel.app/pages/oauth.html">
  <meta property="og:locale" content="ko_KR">
  <link rel="stylesheet" href="../css/style.css">
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@7.0.0"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>
  <script src="../firebase-config.js"></script>
</head>
<body>
    <header class="mobile-header" id="mobileHeader">
      <button class="hamburger" id="hamburgerBtn" aria-label="메뉴 열기">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
      </button>
      <span class="mobile-title">OpenClaw Guide</span>
      <div class="header-right">
        <button class="theme-toggle" id="themeToggle" aria-label="테마 전환" onclick="toggleTheme()"><svg width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'><path d='M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z'/></svg></button>
        <!-- Auth moved to sidebar bottom -->
      </div>
    </header><div class="sidebar-overlay" id="sidebarOverlay"></div>
  <div class="layout">
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <a href="../index.html" class="sidebar-logo">
          <img src="../logo.png" alt="VoidLight" style="width:28px;height:28px;border-radius:6px;object-fit:contain">
          OpenClaw <span>Guide</span>
        </a>
        <div class="sidebar-header-actions">
          <button class="theme-toggle desktop-theme-toggle" id="desktopThemeToggle" aria-label="테마 전환" onclick="toggleTheme()"><svg width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'><path d='M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z'/></svg></button>
          <button class="sidebar-close" id="sidebarClose" aria-label="메뉴 닫기">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
          </button>
        </div>
      </div>
      
      <nav>
        <ul class="sidebar-nav">
          <li><a href="../index.html">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
            홈
          </a></li>
        </ul>
        
        <div class="sidebar-section">카테고리</div>
        <ul class="sidebar-nav">
          <li><a href="windows.html">1. Windows 전용 오류</a></li>
          <li><a href="macos.html">2. macOS 전용 오류</a></li>
          <li><a href="linux.html">3. Linux 전용 오류</a></li>
          <li><a href="virtualenv.html">4. 가상환경 설정 오류</a></li>
          <li><a href="common.html">5. 공통 오류</a></li>
          <li><a href="oauth.html" class="active">6. 인증 (OAuth) 오류</a></li>
          <li><a href="gateway.html">7. 게이트웨이 접속 오류</a></li>
          <li><a href="channels.html">8. 채널 통합 오류</a></li>
          <li><a href="client.html">9. 클라이언트 연결 오류</a></li>
          <li><a href="runtime.html">10. 런타임 오류</a></li>
          <li><a href="browser.html">11. 브라우저 도구 오류</a></li>
          <li><a href="channels-ext.html">12. 채널 확장 오류</a></li>
          <li><a href="skills.html">13. 스킬 &amp; 모델 오류</a></li>
        </ul>
        
        <div class="sidebar-section">도구</div>
        <ul class="sidebar-nav">
          <li><a href="pricing.html">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="4" width="20" height="16" rx="2"/><line x1="2" y1="10" x2="22" y2="10"/><line x1="7" y1="15" x2="13" y2="15"/></svg>
            요금제
          </a></li>
          <li><a href="../index.html#favorites" onclick="showFavorites(event)">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>
            즐겨찾기
          </a></li>
        </ul>
        
        <div class="sidebar-section">리소스</div>
        <ul class="sidebar-nav">
          <li><a href="https://github.com/anthropics/openclaw" target="_blank" rel="noopener">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/></svg>
            GitHub
          </a></li>
          <li><a href="https://open.kakao.com/o/gugo7tCh" target="_blank" rel="noopener">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
            VoidLight 채팅방
          </a></li>
        </ul>
      </nav>
      
      <div class="sidebar-bottom" id="sidebarAuth">
        <!-- Logged out state -->
        <button class="sidebar-login-btn" id="sidebarLoginBtn" onclick="googleLogin()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/><polyline points="10 17 15 12 10 7"/><line x1="15" y1="12" x2="3" y2="12"/></svg>
          Google 로그인
        </button>
        <!-- Logged in state -->
        <div class="sidebar-user-panel" id="sidebarUser" style="display:none">
          <div class="sidebar-user-row" onclick="toggleSidebarMenu()">
            <img class="sidebar-user-avatar" id="sidebarUserAvatar" src="" alt="">
            <div class="sidebar-user-info">
              <div class="sidebar-user-name" id="sidebarUserName"></div>
              <span class="plan-badge plan-free" id="sidebarPlanBadge">무료</span>
            </div>
            <svg class="sidebar-dots" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="5" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="12" cy="19" r="1"/></svg>
          </div>
          <!-- Popup menu (shows above) -->
          <div class="sidebar-user-menu" id="sidebarUserMenu">
            <div class="sidebar-menu-item" id="sidebarUsage">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
              <span id="sidebarUsageText">오늘 0회 사용</span>
            </div>
            <div class="sidebar-menu-divider"></div>
            <a class="sidebar-menu-item" id="sidebarUpgrade" href="pricing.html">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26"/></svg>
              PRO 업그레이드
            </a>
            <a class="sidebar-menu-item" href="pricing.html">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
              설정
            </a>
            <div class="sidebar-menu-divider"></div>
            <button class="sidebar-menu-item sidebar-menu-logout" onclick="googleLogout()">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
              로그아웃
            </button>
          </div>
        </div>
      </div>
    </aside>
    <main class="main">
      <h1>인증 (OAuth) 오류</h1>
      <p class="page-subtitle">12개의 오류 유형 | 총 29개의 해결 방법</p>
      
      <div class="search-bar">
        <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
        <input type="text" id="searchInput" placeholder="오류 검색..." class="search-input">
      </div>

      <div class="accordion">
        <div class="accordion-item" id="error-oauth-1">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <div class="accordion-title-row">
              <span class="badge badge-high">심각</span>
              <h2>setup-token 생성 실패</h2>
            </div>
            <div class="accordion-meta">
              <button class="favorite-btn" data-error-id="error-oauth-1" onclick="event.stopPropagation();toggleFavorite('error-oauth-1',this)" title="즐겨찾기">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>
              </button>
              <span class="solve-time">10분</span>
              <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </div>
          </div>
          <div class="accordion-body">
            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                증상
              </h3>
              <ul class="symptom-list">
                <li>openclaw models auth setup-token 실행 시 에러</li>
                <li>Claude 데스크탑 앱에서 토큰 복사가 안 됨</li>
                <li>'Unable to generate setup token' 메시지</li>
              </ul>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                원인
              </h3>
              <div class="cause-block">
                <p>setup-token은 Claude 데스크탑 앱(Claude for Desktop)의 인증 정보를 기반으로 생성됩니다. Claude 앱이 설치되어 있지 않거나 로그인되어 있지 않으면 토큰을 생성할 수 없습니다.</p>
              </div>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                해결 방법
              </h3>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 A: Claude 데스크탑 앱 설치 및 로그인</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code># 1. Claude 데스크탑 앱 다운로드 및 설치
# https://claude.ai/download

# 2. 앱을 열고 Anthropic 계정으로 로그인

# 3. 로그인 완료 후 setup-token 생성
openclaw models auth setup-token --provider anthropic

# 4. 생성된 토큰을 게이트웨이 호스트에서 붙여넣기
openclaw models auth paste-token --provider anthropic</code></pre>
                </div>
              </div>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 B: API 키 직접 사용 (대안)</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code># Claude 앱 없이 API 키를 직접 사용할 수 있습니다
# https://console.anthropic.com/settings/keys 에서 API 키 발급

# 환경 변수로 설정
export ANTHROPIC_API_KEY=sk-ant-...

# 또는 openclaw.json에 직접 설정
openclaw config set providers.anthropic.apiKey 'sk-ant-...'</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item" id="error-oauth-2">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <div class="accordion-title-row">
              <span class="badge badge-high">심각</span>
              <h2>&quot;No API key found for provider anthropic&quot;</h2>
            </div>
            <div class="accordion-meta">
              <button class="favorite-btn" data-error-id="error-oauth-2" onclick="event.stopPropagation();toggleFavorite('error-oauth-2',this)" title="즐겨찾기">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>
              </button>
              <span class="solve-time">5분</span>
              <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </div>
          </div>
          <div class="accordion-body">
            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                증상
              </h3>
              <ul class="symptom-list">
                <li>'No API key found for provider anthropic' 에러</li>
                <li>openclaw models status에서 anthropic이 'unconfigured'</li>
                <li>채팅 시작 시 인증 관련 에러</li>
              </ul>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                원인
              </h3>
              <div class="cause-block">
                <p>에이전트의 auth 저장소(auth-profiles.json)에 Anthropic 인증 정보가 없습니다. 인증은 에이전트별로 관리되므로, 새 에이전트는 main 에이전트의 키를 자동으로 상속받지 않습니다.</p>
              </div>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                해결 방법
              </h3>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 A: setup-token으로 인증 (권장)</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code># 게이트웨이 호스트에서 실행
openclaw models auth setup-token --provider anthropic

# 또는 다른 곳에서 생성한 토큰 붙여넣기
openclaw models auth paste-token --provider anthropic

# 상태 확인
openclaw models status</code></pre>
                </div>
              </div>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 B: 환경 변수 설정</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code># ANTHROPIC_API_KEY 환경 변수 설정
export ANTHROPIC_API_KEY=sk-ant-api03-...

# 영구 설정 (쉘 설정 파일에 추가)
echo 'export ANTHROPIC_API_KEY=sk-ant-api03-...' &gt;&gt; ~/.zshrc

# 게이트웨이 재시작
openclaw gateway restart
openclaw models status</code></pre>
                </div>
              </div>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 C: 다른 에이전트에서 인증 복사</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code># main 에이전트의 auth를 다른 에이전트에 복사
# auth-profiles.json 위치 확인
ls ~/.openclaw/agents/main/

# 대상 에이전트 디렉토리로 복사
cp ~/.openclaw/agents/main/auth-profiles.json ~/.openclaw/agents/&lt;target-agent&gt;/

# 게이트웨이 재시작
openclaw gateway restart</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item" id="error-oauth-3">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <div class="accordion-title-row">
              <span class="badge badge-medium">보통</span>
              <h2>setup-token 만료됨</h2>
            </div>
            <div class="accordion-meta">
              <button class="favorite-btn" data-error-id="error-oauth-3" onclick="event.stopPropagation();toggleFavorite('error-oauth-3',this)" title="즐겨찾기">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>
              </button>
              <span class="solve-time">3분</span>
              <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </div>
          </div>
          <div class="accordion-body">
            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                증상
              </h3>
              <ul class="symptom-list">
                <li>'Token expired' 또는 'Invalid token' 에러</li>
                <li>setup-token 붙여넣기 시 인증 실패</li>
                <li>이전에 생성한 토큰이 더 이상 작동하지 않음</li>
              </ul>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                원인
              </h3>
              <div class="cause-block">
                <p>setup-token은 보안상 1시간의 유효 기간을 가집니다. 생성 후 1시간이 지나면 만료되어 사용할 수 없습니다.</p>
              </div>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                해결 방법
              </h3>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 A: 새 토큰 생성</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code># 새 setup-token 생성 (Claude 데스크탑 앱이 실행 중이어야 함)
openclaw models auth setup-token --provider anthropic

# 생성 후 바로 붙여넣기 (1시간 내)
openclaw models auth paste-token --provider anthropic

# 확인
openclaw models status</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item" id="error-oauth-4">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <div class="accordion-title-row">
              <span class="badge badge-medium">보통</span>
              <h2>다중 에이전트 인증 미상속</h2>
            </div>
            <div class="accordion-meta">
              <button class="favorite-btn" data-error-id="error-oauth-4" onclick="event.stopPropagation();toggleFavorite('error-oauth-4',this)" title="즐겨찾기">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>
              </button>
              <span class="solve-time">5분</span>
              <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </div>
          </div>
          <div class="accordion-body">
            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                증상
              </h3>
              <ul class="symptom-list">
                <li>서브 에이전트에서 'No API key' 에러</li>
                <li>main 에이전트는 작동하지만 다른 에이전트는 인증 실패</li>
                <li>새로 만든 에이전트가 모델에 접근 불가</li>
              </ul>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                원인
              </h3>
              <div class="cause-block">
                <p>OpenClaw에서 인증(auth)은 에이전트별로 독립적으로 관리됩니다. 새 에이전트를 만들면 main 에이전트의 인증 정보를 자동으로 상속받지 않으므로, 별도로 설정해야 합니다.</p>
              </div>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                해결 방법
              </h3>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 A: 에이전트별 인증 설정</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code># 방법 1: 대상 에이전트에서 직접 인증 실행
openclaw models auth setup-token --provider anthropic --agent &lt;agent-name&gt;

# 방법 2: main에서 auth-profiles.json 복사
cp ~/.openclaw/agents/main/auth-profiles.json ~/.openclaw/agents/&lt;agent-name&gt;/

# 방법 3: 환경 변수는 모든 에이전트에 공통 적용
export ANTHROPIC_API_KEY=sk-ant-...
openclaw gateway restart</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item" id="error-oauth-5">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <div class="accordion-title-row">
              <span class="badge badge-medium">보통</span>
              <h2>OAuth 콜백 실패 (원격 설정)</h2>
            </div>
            <div class="accordion-meta">
              <button class="favorite-btn" data-error-id="error-oauth-5" onclick="event.stopPropagation();toggleFavorite('error-oauth-5',this)" title="즐겨찾기">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>
              </button>
              <span class="solve-time">10분</span>
              <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </div>
          </div>
          <div class="accordion-body">
            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                증상
              </h3>
              <ul class="symptom-list">
                <li>OAuth 인증 시 브라우저 콜백이 실패</li>
                <li>'redirect_uri mismatch' 에러</li>
                <li>원격 서버에서 OAuth 로그인 후 에러 페이지 표시</li>
              </ul>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                원인
              </h3>
              <div class="cause-block">
                <p>OAuth 콜백 URL은 기본적으로 localhost를 가리킵니다. 원격 서버(VPS, 클라우드)에서 실행 중인 경우, 로컬 브라우저에서 열린 OAuth 페이지가 원격 서버의 콜백 URL에 도달할 수 없습니다.</p>
              </div>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                해결 방법
              </h3>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 A: SSH 포트 포워딩 사용</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code># 로컬 머신에서 원격 서버로 포트 포워딩
ssh -L 18789:localhost:18789 user@remote-server

# 이제 로컬 브라우저에서 http://localhost:18789 접속 가능
# OAuth 콜백도 localhost로 돌아오므로 정상 작동</code></pre>
                </div>
              </div>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 B: setup-token 방식 사용 (SSH 불필요)</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code># 로컬에서 setup-token 생성 후 원격 서버에 붙여넣기

# 로컬에서:
openclaw models auth setup-token --provider anthropic
# 출력된 토큰을 복사

# 원격 서버에서:
openclaw models auth paste-token --provider anthropic
# 토큰 붙여넣기</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item" id="error-oauth-6">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <div class="accordion-title-row">
              <span class="badge badge-high">심각</span>
              <h2>Telegram 인증 실패 (401 Unauthorized)</h2>
            </div>
            <div class="accordion-meta">
              <button class="favorite-btn" data-error-id="error-oauth-6" onclick="event.stopPropagation();toggleFavorite('error-oauth-6',this)" title="즐겨찾기">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>
              </button>
              <span class="solve-time">5분</span>
              <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </div>
          </div>
          <div class="accordion-body">
            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                증상
              </h3>
              <ul class="symptom-list">
                <li>게이트웨이 로그에 '401 Unauthorized' 에러</li>
                <li>Telegram 봇이 시작되지 않음</li>
                <li>'Not Found: method not available' 에러</li>
              </ul>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                원인
              </h3>
              <div class="cause-block">
                <p>Telegram 봇 토큰이 잘못되었거나, BotFather에서 토큰이 재생성(revoke)되어 기존 토큰이 무효화되었습니다.</p>
              </div>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                해결 방법
              </h3>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 A: 봇 토큰 확인 및 재설정</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code># 1. Telegram에서 @BotFather 에게 메시지
# /mybots -&gt; 봇 선택 -&gt; API Token
# 토큰 형식: 123456789:ABCdefGhIJKlmNoPQRsTUVwxyZ

# 2. openclaw.json에서 토큰 업데이트
openclaw config set channels.telegram.botToken '&lt;new_token&gt;'

# 또는 환경 변수로:
export TELEGRAM_BOT_TOKEN='123456789:ABCdefGhIJKlmNoPQRsTUVwxyZ'

# 3. 게이트웨이 재시작
openclaw gateway restart

# 4. 채널 상태 확인
openclaw channels status --probe</code></pre>
                </div>
              </div>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 B: 봇 토큰 재생성</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code># BotFather에서 새 토큰 발급:
# 1. @BotFather에게 /revoke 전송
# 2. 해당 봇 선택
# 3. 새 토큰 복사

# 주의: 기존 토큰은 즉시 무효화됩니다

# 새 토큰으로 설정 업데이트
openclaw config set channels.telegram.botToken '&lt;new_token&gt;'
openclaw gateway restart</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item" id="error-oauth-7">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <div class="accordion-title-row">
              <span class="badge badge-high">심각</span>
              <h2>Anthropic 'Claude Code 전용 credential' 에러</h2>
            </div>
            <div class="accordion-meta">
              <button class="favorite-btn" data-error-id="error-oauth-7" onclick="event.stopPropagation();toggleFavorite('error-oauth-7',this)" title="즐겨찾기">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>
              </button>
              <span class="solve-time">5분</span>
              <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </div>
          </div>
          <div class="accordion-body">
            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                증상
              </h3>
              <ul class="symptom-list">
                <li>'This credential is only authorized for use with Claude Code' 에러</li>
                <li>setup-token으로 인증했는데 API 호출 실패</li>
                <li>Anthropic API 사용 시 권한 에러</li>
              </ul>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                원인
              </h3>
              <div class="cause-block">
                <p>Claude Code의 setup-token은 Claude Code 전용이며, OpenClaw Gateway API 호출에는 사용 불가. 별도 Anthropic API 키가 필요함 (출처: gateway/authentication.md)</p>
              </div>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                해결 방법
              </h3>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 A: Anthropic API 키로 전환</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code># setup-token 대신 API 키 사용
openclaw models auth paste-token --provider anthropic

# API 키 발급: https://console.anthropic.com/settings/keys
# 발급받은 키를 프롬프트에 붙여넣기

# 또는 환경변수로 설정
export ANTHROPIC_API_KEY=sk-ant-...</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item" id="error-oauth-token-refresh-failed-anthropic-claude-subscr">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <div class="accordion-title-row">
              <span class="badge badge-medium">보통</span>
              <h2>OAuth token refresh failed (Anthropic Claude subscription)</h2>
            </div>
            <div class="accordion-meta">
              <button class="favorite-btn" data-error-id="error-oauth-token-refresh-failed-anthropic-claude-subscr" onclick="event.stopPropagation();toggleFavorite('error-oauth-token-refresh-failed-anthropic-claude-subscr',this)" title="즐겨찾기">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>
              </button>
              <span class="solve-time">5분분</span>
              <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </div>
          </div>
          <div class="accordion-body">
            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                증상
              </h3>
              <ul class="symptom-list">
                <li>OAuth token refresh failed</li>
              </ul>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                원인
              </h3>
              <div class="cause-block">
                <p>확인 중</p>
              </div>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                해결 방법
              </h3>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 A: Claude Code setup-token으로 전환</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code>Claude Code setup-token으로 전환: openclaw models auth setup-token --provider anthropic</code></pre>
                </div>
              </div>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 B: 다른 머신에서 토큰 생성한 경우</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code>다른 머신에서 토큰 생성한 경우: openclaw models auth paste-token --provider anthropic</code></pre>
                </div>
              </div>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 C: openclaw models status로 인증 상태 확인</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code>openclaw models status로 인증 상태 확인</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item" id="error-no-api-key-found-for-provider-after-adding-a-new-a">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <div class="accordion-title-row">
              <span class="badge badge-medium">보통</span>
              <h2>No API key found for provider after adding a new agent</h2>
            </div>
            <div class="accordion-meta">
              <button class="favorite-btn" data-error-id="error-no-api-key-found-for-provider-after-adding-a-new-a" onclick="event.stopPropagation();toggleFavorite('error-no-api-key-found-for-provider-after-adding-a-new-a',this)" title="즐겨찾기">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>
              </button>
              <span class="solve-time">5분분</span>
              <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </div>
          </div>
          <div class="accordion-body">
            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                증상
              </h3>
              <ul class="symptom-list">
                <li>No API key found for provider (새 에이전트 추가 후)</li>
              </ul>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                원인
              </h3>
              <div class="cause-block">
                <p>확인 중</p>
              </div>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                해결 방법
              </h3>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 A: 새 에이전트의 auth store가 비어있음</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code>새 에이전트의 auth store가 비어있음</code></pre>
                </div>
              </div>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 B: openclaw agents add &lt;id&gt;로 인증 설정</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code>openclaw agents add &lt;id&gt;로 인증 설정</code></pre>
                </div>
              </div>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 C: 또는 메인 에이전트의 auth-profiles.json을 새 에이전트의 agentDir로 복사</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code>또는 메인 에이전트의 auth-profiles.json을 새 에이전트의 agentDir로 복사</code></pre>
                </div>
              </div>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 D: agentDir를 에이전트 간 공유하지 말 것 (인증/세션 충돌)</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code>agentDir를 에이전트 간 공유하지 말 것 (인증/세션 충돌)</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item" id="error-llm-request-rejected:-thinking-signature-required-">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <div class="accordion-title-row">
              <span class="badge badge-medium">보통</span>
              <h2>LLM request rejected: thinking signature required (Google Antigravity)</h2>
            </div>
            <div class="accordion-meta">
              <button class="favorite-btn" data-error-id="error-llm-request-rejected:-thinking-signature-required-" onclick="event.stopPropagation();toggleFavorite('error-llm-request-rejected:-thinking-signature-required-',this)" title="즐겨찾기">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>
              </button>
              <span class="solve-time">5분분</span>
              <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </div>
          </div>
          <div class="accordion-body">
            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                증상
              </h3>
              <ul class="symptom-list">
                <li>LLM request rejected: thinking blocks without signatures (Google Antigravity)</li>
              </ul>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                원인
              </h3>
              <div class="cause-block">
                <p>확인 중</p>
              </div>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                해결 방법
              </h3>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 A: 새 세션 시작 (/new)</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code>새 세션 시작 (/new)</code></pre>
                </div>
              </div>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 B: 해당 에이전트에서 /thinking off 설정</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code>해당 에이전트에서 /thinking off 설정</code></pre>
                </div>
              </div>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 C: 최신 버전에서는 서명 없는 thinking 블록 자동 제거</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code>최신 버전에서는 서명 없는 thinking 블록 자동 제거</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item" id="error-semantic-memory-search에-openai-api-key-필요">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <div class="accordion-title-row">
              <span class="badge badge-medium">보통</span>
              <h2>Semantic memory search에 OpenAI API key 필요</h2>
            </div>
            <div class="accordion-meta">
              <button class="favorite-btn" data-error-id="error-semantic-memory-search에-openai-api-key-필요" onclick="event.stopPropagation();toggleFavorite('error-semantic-memory-search에-openai-api-key-필요',this)" title="즐겨찾기">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>
              </button>
              <span class="solve-time">5분분</span>
              <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </div>
          </div>
          <div class="accordion-body">
            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                증상
              </h3>
              <ul class="symptom-list">
                <li>시맨틱 메모리 검색이 비활성 상태 (임베딩 프로바이더 미설정)</li>
              </ul>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                원인
              </h3>
              <div class="cause-block">
                <p>확인 중</p>
              </div>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                해결 방법
              </h3>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 A: Codex OAuth는 embeddings 미지원 - 별도 OPENAI_API_KEY 필요</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code>Codex OAuth는 embeddings 미지원 - 별도 OPENAI_API_KEY 필요</code></pre>
                </div>
              </div>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 B: 로컬 사용</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code>로컬 사용: memorySearch.provider = 'local' 설정</code></pre>
                </div>
              </div>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 C: Gemini 사용</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code>Gemini 사용: memorySearch.provider = 'gemini' + GEMINI_API_KEY 제공</code></pre>
                </div>
              </div>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 D: OpenAI/Gemini/local 중 선택 가능</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code>OpenAI/Gemini/local 중 선택 가능</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item" id="error-env-vars-disappeared-in-service-서비스에서-환경변수-누락">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <div class="accordion-title-row">
              <span class="badge badge-medium">보통</span>
              <h2>env vars disappeared in service (서비스에서 환경변수 누락)</h2>
            </div>
            <div class="accordion-meta">
              <button class="favorite-btn" data-error-id="error-env-vars-disappeared-in-service-서비스에서-환경변수-누락" onclick="event.stopPropagation();toggleFavorite('error-env-vars-disappeared-in-service-서비스에서-환경변수-누락',this)" title="즐겨찾기">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>
              </button>
              <span class="solve-time">5분분</span>
              <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </div>
          </div>
          <div class="accordion-body">
            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                증상
              </h3>
              <ul class="symptom-list">
                <li>서비스로 게이트웨이 시작 시 환경변수 사라짐 (Shell env: off)</li>
              </ul>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                원인
              </h3>
              <div class="cause-block">
                <p>확인 중</p>
              </div>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                해결 방법
              </h3>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 A: ~/.openclaw/.env에 누락된 키 추가</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code>~/.openclaw/.env에 누락된 키 추가</code></pre>
                </div>
              </div>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 B: env.shellEnv.enabled</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code>env.shellEnv.enabled: true로 로그인 셸 import 활성화</code></pre>
                </div>
              </div>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>방법 C: 또는 config의 env 블록에 인라인 정의</h4>
                  <div class="trust-level">
                    <span class="trust-label">신뢰도</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                  </div>
                  <pre><code>또는 config의 env 블록에 인라인 정의</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 에러 제보 -->
      <div class="error-report-section" style="margin-top:2rem;padding:1.5rem;border:1px dashed var(--border);border-radius:var(--radius);text-align:center">
        <h3 style="margin-bottom:0.5rem">찾는 오류가 없나요?</h3>
        <p style="color:var(--text-secondary);font-size:14px;margin-bottom:1rem">새로운 오류를 제보해주시면 가이드에 추가하겠습니다.</p>
        <button onclick="openReportModal()" style="padding:10px 24px;border-radius:var(--radius);border:1px solid var(--border);background:var(--bg-tertiary);color:var(--text-primary);cursor:pointer;font-size:14px;font-weight:600;transition:all 0.2s" onmouseover="this.style.borderColor='var(--accent)'" onmouseout="this.style.borderColor='var(--border)'"><svg width='14' height='14' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' style='vertical-align:middle'><path d='M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7'/><path d='M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z'/></svg> 새 오류 제보하기</button>
      </div>

      <!-- 제보 모달 -->
      <div id="reportModal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);z-index:10000;display:none;align-items:center;justify-content:center">
        <div style="background:var(--bg-card);border:1px solid var(--border);border-radius:12px;padding:24px;width:90%;max-width:420px">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
            <h3>오류 제보</h3>
            <span onclick="closeReportModal()" style="cursor:pointer;font-size:20px;color:var(--text-muted)">✕</span>
          </div>
          <input id="reportTitle" placeholder="오류 제목" style="width:100%;padding:10px;margin-bottom:10px;border-radius:var(--radius);border:1px solid var(--border);background:var(--bg-tertiary);color:var(--text-primary);font-size:14px">
          <textarea id="reportSymptom" placeholder="증상 설명" rows="3" style="width:100%;padding:10px;margin-bottom:10px;border-radius:var(--radius);border:1px solid var(--border);background:var(--bg-tertiary);color:var(--text-primary);font-size:14px;resize:vertical"></textarea>
          <input id="reportScreenshot" placeholder="스크린샷 URL (선택)" style="width:100%;padding:10px;margin-bottom:16px;border-radius:var(--radius);border:1px solid var(--border);background:var(--bg-tertiary);color:var(--text-primary);font-size:14px">
          <button onclick="submitReport()" style="width:100%;padding:12px;border-radius:var(--radius);border:none;background:var(--accent);color:#fff;font-size:14px;font-weight:600;cursor:pointer">제출하기</button>
        </div>
      </div>
      <footer class="site-footer">
        <div class="footer-content">
          <p>OpenClaw Error Guide vv3.0 | 최종 업데이트: 2026-02-10</p>
          <div class="footer-links">
            <a href="https://github.com/anthropics/openclaw" target="_blank" rel="noopener">GitHub</a>
            <a href="https://openclaw.ai" target="_blank" rel="noopener">OpenClaw</a>
            <a href="https://open.kakao.com/o/gugo7tCh" target="_blank" rel="noopener">VoidLight 채팅방</a>
          </div>
        </div>
      </footer>
    </main>
  </div>
    <button class="back-to-top" id="backToTop" aria-label="맨 위로">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="18 15 12 9 6 15"/></svg>
    </button>
  <script>
    // ── Dark/Light mode toggle ──
    function toggleTheme() {
      const html = document.documentElement;
      const current = html.getAttribute('data-theme');
      const next = current === 'light' ? 'dark' : 'light';
      html.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
      var ic = next === 'light' ? _sunSvg : _moonSvg;
      var btn1 = document.getElementById('themeToggle');
      var btn2 = document.getElementById('desktopThemeToggle');
      if (btn1) btn1.innerHTML = ic;
      if (btn2) btn2.innerHTML = ic;
    }
    var _sunSvg = '<svg width=\'18\' height=\'18\' viewBox=\'0 0 24 24\' fill=\'none\' stroke=\'currentColor\' stroke-width=\'2\'><circle cx=\'12\' cy=\'12\' r=\'5\'/><line x1=\'12\' y1=\'1\' x2=\'12\' y2=\'3\'/><line x1=\'12\' y1=\'21\' x2=\'12\' y2=\'23\'/><line x1=\'4.22\' y1=\'4.22\' x2=\'5.64\' y2=\'5.64\'/><line x1=\'18.36\' y1=\'18.36\' x2=\'19.78\' y2=\'19.78\'/><line x1=\'1\' y1=\'12\' x2=\'3\' y2=\'12\'/><line x1=\'21\' y1=\'12\' x2=\'23\' y2=\'12\'/><line x1=\'4.22\' y1=\'19.78\' x2=\'5.64\' y2=\'18.36\'/><line x1=\'18.36\' y1=\'5.64\' x2=\'19.78\' y2=\'4.22\'/></svg>';
    var _moonSvg = '<svg width=\'18\' height=\'18\' viewBox=\'0 0 24 24\' fill=\'none\' stroke=\'currentColor\' stroke-width=\'2\'><path d=\'M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\'/></svg>';
    (function initTheme() {
      var saved = localStorage.getItem('theme') || 'dark';
      document.documentElement.setAttribute('data-theme', saved);
      var ic = saved === 'light' ? _sunSvg : _moonSvg;
      var btn = document.getElementById('themeToggle');
      if (btn) btn.innerHTML = ic;
      var btn2 = document.getElementById('desktopThemeToggle');
      if (btn2) btn2.innerHTML = ic;
    })();

    // ── Copy code (feature #4) ──
    function copyCode(btn) {
      const pre = btn.closest('.code-block').querySelector('pre');
      const code = pre.textContent;
      navigator.clipboard.writeText(code).then(() => {
        btn.textContent = '\u2713 복사됨!';
        btn.style.color = '#22c55e';
        setTimeout(() => { btn.textContent = '복사'; btn.style.color = ''; }, 2000);
      });
    }

    // ── Error report modal (feature #1) ──
    function openReportModal() {
      const m = document.getElementById('reportModal');
      if (m) m.style.display = 'flex';
    }
    function closeReportModal() {
      const m = document.getElementById('reportModal');
      if (m) m.style.display = 'none';
    }
    function submitReport() {
      const title = document.getElementById('reportTitle')?.value?.trim();
      const symptom = document.getElementById('reportSymptom')?.value?.trim();
      const screenshot = document.getElementById('reportScreenshot')?.value?.trim();
      if (!title || !symptom) { alert('제목과 증상을 입력해주세요.'); return; }
      const reports = JSON.parse(localStorage.getItem('error_reports') || '[]');
      reports.push({ title, symptom, screenshot, date: new Date().toISOString() });
      localStorage.setItem('error_reports', JSON.stringify(reports));
      alert('제보가 저장되었습니다. 감사합니다!');
      closeReportModal();
      document.getElementById('reportTitle').value = '';
      document.getElementById('reportSymptom').value = '';
      document.getElementById('reportScreenshot').value = '';
    }

    // Accordion toggle
    function toggleAccordion(header) {
      const item = header.parentElement;
      const isOpen = item.classList.contains('open');
      // Close all in same parent
      item.parentElement.querySelectorAll('.accordion-item.open').forEach(el => {
        if (el !== item) el.classList.remove('open');
      });
      item.classList.toggle('open', !isOpen);
    }

    // Auto-open accordion from URL hash
    (function() {
      function openFromHash() {
        const hash = window.location.hash;
        if (!hash) return;
        const el = document.querySelector(hash);
        if (el && el.classList.contains('accordion-item')) {
          el.classList.add('open');
          setTimeout(() => el.scrollIntoView({ behavior: 'smooth', block: 'center' }), 100);
          el.style.boxShadow = '0 0 0 2px #000';
          setTimeout(() => el.style.boxShadow = '', 2000);
        }
      }
      openFromHash();
      window.addEventListener('hashchange', openFromHash);
    })();

    // Mobile sidebar
    const hamburger = document.getElementById('hamburgerBtn');
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('sidebarOverlay');
    const closeBtn = document.getElementById('sidebarClose');
    
    function openSidebar() {
      sidebar.classList.add('open');
      overlay.classList.add('show');
      document.body.style.overflow = 'hidden';
    }
    function closeSidebar() {
      sidebar.classList.remove('open');
      overlay.classList.remove('show');
      document.body.style.overflow = '';
    }
    
    if (hamburger) hamburger.addEventListener('click', openSidebar);
    if (overlay) overlay.addEventListener('click', closeSidebar);
    if (closeBtn) closeBtn.addEventListener('click', closeSidebar);

    // Back to top
    const backToTop = document.getElementById('backToTop');
    const mainEl = document.querySelector('.main');
    if (mainEl && backToTop) {
      mainEl.addEventListener('scroll', () => {
        backToTop.classList.toggle('show', mainEl.scrollTop > 400);
      });
      backToTop.addEventListener('click', () => {
        mainEl.scrollTo({ top: 0, behavior: 'smooth' });
      });
    }

    // Fuzzy Search (Fuse.js)
    const searchInput = document.getElementById('searchInput');
    if (searchInput && typeof Fuse !== 'undefined') {
      const items = Array.from(document.querySelectorAll('.accordion-item, .search-target'));
      const fuseList = items.map((el, i) => ({ idx: i, text: el.textContent }));
      const fuse = new Fuse(fuseList, {
        keys: ['text'],
        threshold: 0.4,
        distance: 200,
        minMatchCharLength: 2,
        ignoreLocation: true
      });
      searchInput.addEventListener('input', (e) => {
        const query = e.target.value.trim();
        if (!query) {
          items.forEach(el => el.style.display = '');
          document.querySelectorAll('.category-section').forEach(s => s.style.display = '');
          return;
        }
        const results = fuse.search(query);
        const matchedIdx = new Set(results.map(r => r.item.idx));
        items.forEach((el, i) => el.style.display = matchedIdx.has(i) ? '' : 'none');
        // Show/hide category sections based on visible cards
        document.querySelectorAll('.category-section').forEach(sec => {
          const hasVisible = sec.querySelectorAll('.card:not([style*="display: none"])').length > 0;
          sec.style.display = hasVisible ? '' : 'none';
        });
      });
    }
  </script>

  <!-- AI Guide Bot -->
  <div id="chatbot-fab" onclick="toggleChat()" style="position:fixed;bottom:24px;right:24px;width:56px;height:56px;border-radius:50%;background:#000;color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 4px 24px rgba(0,0,0,0.3);z-index:9999;font-size:20px;transition:all 0.3s;border:2px solid #333" onmouseover="this.style.transform='scale(1.08)';this.style.boxShadow='0 6px 28px rgba(0,0,0,0.4)'" onmouseout="this.style.transform='scale(1)';this.style.boxShadow='0 4px 24px rgba(0,0,0,0.3)'">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
  </div>

  <div id="chatbot-panel" style="display:none;position:fixed;bottom:90px;right:24px;width:380px;max-height:540px;background:#fff;border:1px solid #e0e0e0;border-radius:16px;box-shadow:0 12px 48px rgba(0,0,0,0.15);z-index:9999;overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif">
    <div style="padding:16px 20px;background:#000;color:#fff">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div style="display:flex;align-items:center;gap:10px">
          <div>
            <div style="font-weight:700;font-size:15px;letter-spacing:-0.3px">가이드봇</div>
            <div style="font-size:11px;color:#999;margin-top:2px">오류 해결 AI 어시스턴트</div>
          </div>
          <span id="usage-badge" style="padding:3px 8px;border-radius:8px;font-size:10px;font-weight:600;background:#f5f5f5;color:#666">10/10 무료</span>
        </div>
        <div style="display:flex;gap:8px;align-items:center">
          <span onclick="resetChat()" style="cursor:pointer;font-size:12px;color:#666;transition:color 0.2s" onmouseover="this.style.color='#fff'" onmouseout="this.style.color='#666'" title="대화 초기화"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg></span>
          <span onclick="toggleChat()" style="cursor:pointer;font-size:18px;color:#666;transition:color 0.2s" onmouseover="this.style.color='#fff'" onmouseout="this.style.color='#666'">&#10005;</span>
        </div>
      </div>
      <!-- auth moved to header -->
    </div>
    <div id="chat-messages" style="height:340px;overflow-y:auto;padding:16px;display:flex;flex-direction:column;gap:10px;background:#fafafa">
      <div style="background:#fff;padding:12px 16px;border-radius:14px;color:#333;font-size:13px;max-width:85%;box-shadow:0 1px 3px rgba(0,0,0,0.08);line-height:1.6">
        안녕하세요! 오류 증상을 설명해주시면<br>해결 방법을 안내해드릴게요.<br><br><span style="color:#888;font-size:11px">스크린샷의 오류 메시지를 텍스트로 붙여넣어주시면 더 정확한 진단이 가능합니다.</span>
      </div>
      <div style="display:flex;gap:6px;flex-wrap:wrap">
        <span onclick="quickQ(this)" style="background:#fff;border:1px solid #ddd;padding:6px 12px;border-radius:20px;font-size:11px;color:#555;cursor:pointer;transition:all 0.2s" onmouseover="this.style.borderColor='#000';this.style.color='#000'" onmouseout="this.style.borderColor='#ddd';this.style.color='#555'">설치 오류</span>
        <span onclick="quickQ(this)" style="background:#fff;border:1px solid #ddd;padding:6px 12px;border-radius:20px;font-size:11px;color:#555;cursor:pointer;transition:all 0.2s" onmouseover="this.style.borderColor='#000';this.style.color='#000'" onmouseout="this.style.borderColor='#ddd';this.style.color='#555'">연결 안됨</span>
        <span onclick="quickQ(this)" style="background:#fff;border:1px solid #ddd;padding:6px 12px;border-radius:20px;font-size:11px;color:#555;cursor:pointer;transition:all 0.2s" onmouseover="this.style.borderColor='#000';this.style.color='#000'" onmouseout="this.style.borderColor='#ddd';this.style.color='#555'">인증 오류</span>
        <span onclick="quickQ(this)" style="background:#fff;border:1px solid #ddd;padding:6px 12px;border-radius:20px;font-size:11px;color:#555;cursor:pointer;transition:all 0.2s" onmouseover="this.style.borderColor='#000';this.style.color='#000'" onmouseout="this.style.borderColor='#ddd';this.style.color='#555'">텔레그램 봇</span>
      </div>
    </div>
    <div style="padding:12px 16px;border-top:1px solid #eee;display:flex;gap:8px;background:#fff">
      <input id="chat-input" type="text" placeholder="오류 증상을 입력하세요..." onkeydown="if(event.key==='Enter')sendChat()" style="flex:1;padding:10px 16px;border-radius:24px;border:1px solid #ddd;background:#f5f5f5;color:#333;font-size:13px;outline:none;transition:border 0.2s" onfocus="this.style.borderColor='#000'" onblur="this.style.borderColor='#ddd'">
      <button onclick="sendChat()" style="padding:10px 18px;border-radius:24px;border:none;background:#000;color:#fff;cursor:pointer;font-size:13px;font-weight:600;transition:opacity 0.2s" onmouseover="this.style.opacity='0.8'" onmouseout="this.style.opacity='1'">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="vertical-align:middle"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
      </button>
    </div>
  </div>

  <script>
  // ── Firebase Auth + Firestore Integration ──
  var _fbApp = null, _fbAuth = null, _fbDb = null, _currentUser = null, _isPro = false, _isAdmin = false;
  function initFirebase() {
    if (_fbApp) return;
    if (typeof firebase === 'undefined' || !firebaseConfig || firebaseConfig.apiKey === 'PLACEHOLDER') {
      console.warn('Firebase not configured — running in local-only mode');
      return;
    }
    _fbApp = firebase.initializeApp(firebaseConfig);
    _fbAuth = firebase.auth();
    _fbDb = firebase.firestore();
    _fbAuth.onAuthStateChanged(async function(user) {
      _currentUser = user;
      updateAuthUI();
      if (user) {
        var ADMIN_EMAILS = ['icthyeon00@gmail.com'];
        if (ADMIN_EMAILS.includes(user.email)) { _isPro = true; _isAdmin = true; }
        else { _isAdmin = false; await loadProStatus(user.uid); }
      } else {
        _isPro = false;
      }
      checkUsage();
    });
  }
  function updateAuthUI() {
    // Sidebar auth (primary — bottom-left)
    var sidebarLoginBtn = document.getElementById('sidebarLoginBtn');
    var sidebarUser = document.getElementById('sidebarUser');
    var sidebarUserAvatar = document.getElementById('sidebarUserAvatar');
    var sidebarUserName = document.getElementById('sidebarUserName');
    var sidebarPlanBadge = document.getElementById('sidebarPlanBadge');
    var sidebarUpgrade = document.getElementById('sidebarUpgrade');
    var sidebarUsageText = document.getElementById('sidebarUsageText');
    
    if (_currentUser) {
      if (sidebarLoginBtn) sidebarLoginBtn.style.display = 'none';
      if (sidebarUser) sidebarUser.style.display = 'block';
      if (sidebarUserAvatar) sidebarUserAvatar.src = _currentUser.photoURL || '';
      if (sidebarUserName) sidebarUserName.textContent = _currentUser.displayName || _currentUser.email || '';
      if (sidebarPlanBadge) {
        sidebarPlanBadge.textContent = _isPro ? 'PRO' : '무료';
        sidebarPlanBadge.className = 'plan-badge ' + (_isPro ? 'plan-pro' : 'plan-free');
      }
      if (sidebarUpgrade) sidebarUpgrade.style.display = _isPro ? 'none' : 'flex';
    } else {
      if (sidebarLoginBtn) sidebarLoginBtn.style.display = 'flex';
      if (sidebarUser) sidebarUser.style.display = 'none';
    }
    updateSidebarUsage();
  }
  function updateSidebarUsage() {
    var el = document.getElementById('sidebarUsageText');
    if (!el) return;
    var u = getUsage();
    el.textContent = '오늘 ' + u.count + '회 사용';
  }
  function toggleSidebarMenu() {
    var menu = document.getElementById('sidebarUserMenu');
    if (menu) menu.classList.toggle('show');
  }
  // Close sidebar menu on outside click
  document.addEventListener('click', function(e) {
    var panel = document.getElementById('sidebarUser');
    var menu = document.getElementById('sidebarUserMenu');
    if (menu && panel && !panel.contains(e.target)) menu.classList.remove('show');
  });
  async function loadProStatus(uid) {
    if (!_fbDb) return;
    try {
      var doc = await _fbDb.collection('users').doc(uid).get();
      if (doc.exists && doc.data().pro === true) {
        _isPro = true;
      } else {
        _isPro = false;
      }
    } catch(e) {
      console.warn('Firestore read error:', e);
      _isPro = false;
    }
    updateAuthUI();
  }
  function googleLogin() {
    if (!_fbAuth) { alert('Firebase가 설정되지 않았습니다. firebase-config.js를 확인하세요.'); return; }
    var provider = new firebase.auth.GoogleAuthProvider();
    _fbAuth.signInWithPopup(provider).catch(function(e) {
      console.error('Login error:', e);
    });
  }
  function googleLogout() {
    if (_fbAuth) _fbAuth.signOut();
    _currentUser = null;
    _isPro = false;
    updateAuthUI();
    checkUsage();
  }

  // ── Chatbot session storage ──
  function saveChatHistory() {
    var box = document.getElementById('chat-messages');
    if (box) sessionStorage.setItem('chat_history', box.innerHTML);
  }
  function restoreChatHistory() {
    var saved = sessionStorage.getItem('chat_history');
    var box = document.getElementById('chat-messages');
    if (saved && box) box.innerHTML = saved;
  }
  function resetChat() {
    sessionStorage.removeItem('chat_history');
    var box = document.getElementById('chat-messages');
    if (box) {
      box.innerHTML = "<div style='background:#fff;padding:12px 16px;border-radius:14px;color:#333;font-size:13px;max-width:85%;box-shadow:0 1px 3px rgba(0,0,0,0.08);line-height:1.6'>안녕하세요! 오류 증상을 설명해주시면<br>해결 방법을 안내해드릴게요.<br><br><span style='color:#888;font-size:11px'>스크린샷의 오류 메시지를 텍스트로 붙여넣어주시면 더 정확한 진단이 가능합니다.</span></div>";
    }
  }
  function toggleChat() {
    var p = document.getElementById('chatbot-panel');
    p.style.display = p.style.display === 'none' ? 'block' : 'none';
    if (p.style.display === 'block') {
      restoreChatHistory();
      document.getElementById('chat-input')?.focus();
    }
    checkUsage();
  }
  function quickQ(el) {
    document.getElementById('chat-input').value = el.textContent + ' 해결 방법 알려주세요';
    sendChat();
  }
  // Usage: Firebase uid-based if logged in, localStorage fallback
  function getUsageKey() {
    return _currentUser ? 'guidebot_usage_' + _currentUser.uid : 'guidebot_usage';
  }
  function getUsage() {
    var key = getUsageKey();
    var data = JSON.parse(localStorage.getItem(key) || '{}');
    var today = new Date().toISOString().slice(0,10);
    if (data.date !== today) return { date: today, count: 0 };
    return data;
  }
  function setUsage(u) { localStorage.setItem(getUsageKey(), JSON.stringify(u)); }
  function checkUsage() {
    var u = getUsage();
    var remaining = Math.max(0, 10 - u.count);
    var badge = document.getElementById('usage-badge');
    if (!badge) return;
    if (_isPro) {
      var proRemaining = Math.max(0, 300 - u.count);
      badge.textContent = 'PRO ' + proRemaining + '/300';
      badge.style.background = '#000'; badge.style.color = '#fff';
    } else {
      badge.textContent = remaining + '/10 무료';
      badge.style.background = remaining > 0 ? '#f5f5f5' : '#000';
      badge.style.color = remaining > 0 ? '#666' : '#fff';
    }
  }
  function showPaywall() {
    var box = document.getElementById('chat-messages');
    var loginHint = !_currentUser ? '<div style="color:#888;font-size:11px;margin-bottom:8px">구독하려면 먼저 Google로 로그인하세요</div>' : '';
    box.innerHTML += '<div style="background:#fff;padding:16px;border-radius:14px;box-shadow:0 1px 3px rgba(0,0,0,0.08);text-align:center"><div style="margin-bottom:8px"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg></div><div style="font-weight:700;color:#000;font-size:14px;margin-bottom:4px">무료 체험이 끝났습니다</div><div style="color:#666;font-size:12px;margin-bottom:12px">월 $3로 하루 300회 AI 오류 진단을 이용하세요</div>' + loginHint + '<button onclick="subscribe()" style="width:100%;padding:12px;border-radius:12px;border:none;background:#000;color:#fff;font-size:14px;font-weight:600;cursor:pointer;transition:opacity 0.2s;margin-bottom:8px" onmouseover="this.style.opacity=\'0.8\'" onmouseout="this.style.opacity=\'1\'">구독하기 -- $3/월</button><div style="color:#999;font-size:11px">언제든 해지 가능 -- 안전한 결제</div></div>';
    box.scrollTop = box.scrollHeight;
  }
  function subscribe() {
    if (!_currentUser) { googleLogin(); return; }
    // Creem checkout — pass email for webhook matching
    var creemUrl = 'https://www.creem.io/test/payment/prod_6nhRuGebUqLLtBkGJcHrNO?success_url=' + encodeURIComponent(window.location.origin + '?pro=activated') + '&customer_email=' + encodeURIComponent(_currentUser.email || '');
    window.open(creemUrl, '_blank');
  }
  // Check for pro activation via URL param (after Creem redirect)
  (function() {
    var params = new URLSearchParams(window.location.search);
    if (params.get('pro') === 'activated') {
      window.history.replaceState({}, '', window.location.pathname);
      var banner = document.getElementById('proActivatedBanner');
      if (banner) banner.style.display = 'flex';
    }
  })();
  function unlockAdmin() {
    var code = prompt('관리자 코드를 입력하세요');
    if (code === 'ediboom-admin-2026') {
      _isPro = true; updateAuthUI(); checkUsage();
      alert('관리자 모드 활성화!');
    }
  }

  // ── FAQ toggle ──
  function toggleFaq(btn) {
    var item = btn.parentElement;
    var wasOpen = item.classList.contains('open');
    item.parentElement.querySelectorAll('.faq-item.open').forEach(function(el) { el.classList.remove('open'); });
    if (!wasOpen) item.classList.add('open');
  }

  // ── Favorites (localStorage) ──
  function getFavorites() {
    return JSON.parse(localStorage.getItem('oc_favorites') || '[]');
  }
  function toggleFavorite(errorId, btn) {
    var favs = getFavorites();
    var idx = favs.indexOf(errorId);
    if (idx >= 0) { favs.splice(idx, 1); btn.classList.remove('favorited'); }
    else { favs.push(errorId); btn.classList.add('favorited'); }
    localStorage.setItem('oc_favorites', JSON.stringify(favs));
  }
  function initFavorites() {
    var favs = getFavorites();
    document.querySelectorAll('.favorite-btn').forEach(function(btn) {
      if (favs.indexOf(btn.dataset.errorId) >= 0) btn.classList.add('favorited');
    });
  }
  function showFavorites(e) {
    if (e) e.preventDefault();
    var favs = getFavorites();
    var items = document.querySelectorAll('.accordion-item');
    if (!items.length) return;
    var showing = document.body.classList.toggle('show-favorites');
    if (showing) {
      items.forEach(function(el) {
        el.style.display = favs.indexOf(el.id) >= 0 ? '' : 'none';
      });
      document.querySelectorAll('.category-section').forEach(function(s) {
        var has = s.querySelectorAll('.accordion-item:not([style*="display: none"])').length > 0;
        s.style.display = has ? '' : 'none';
      });
    } else {
      items.forEach(function(el) { el.style.display = ''; });
      document.querySelectorAll('.category-section').forEach(function(s) { s.style.display = ''; });
    }
    closeSidebar();
  }

  // ── Vanity metrics ──
  function initVanityMetrics() {
    var el = document.getElementById('liveUserCount');
    if (el) el.textContent = Math.floor(Math.random() * 14) + 10;
  }

  document.addEventListener('DOMContentLoaded', function() {
    var badge = document.getElementById('usage-badge');
    if (badge) badge.addEventListener('dblclick', unlockAdmin);
    initFirebase();
    initFavorites();
    initVanityMetrics();
  });
  async function sendChat() {
    var input = document.getElementById('chat-input');
    var msg = input.value.trim();
    if (!msg) return;

    var u = getUsage();
    if (_isPro && u.count >= 300) { showPaywall(); input.value = ''; return; }
    if (!_isPro && u.count >= 10) { showPaywall(); input.value = ''; return; }

    var box = document.getElementById('chat-messages');
    box.innerHTML += '<div style="background:#000;padding:10px 16px;border-radius:14px;color:#fff;font-size:13px;max-width:85%;align-self:flex-end">'+msg.replace(/</g,'&lt;')+'</div>';
    input.value = '';
    box.innerHTML += '<div id="typing" style="background:#fff;padding:12px 16px;border-radius:14px;color:#999;font-size:13px;box-shadow:0 1px 3px rgba(0,0,0,0.08)"><span style="animation:pulse 1.5s infinite">분석 중</span><style>@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.4}}</style></div>';
    box.scrollTop = box.scrollHeight;

    try {
      var r = await fetch('/api/chat', {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify({ message: msg })
      });
      var d = await r.json();
      document.getElementById('typing')?.remove();
      if (d.error) throw new Error(d.error);
      var html = d.answer.replace(/</g,'&lt;').replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" style="color:#000;font-weight:600;text-decoration:underline;text-underline-offset:2px" target="_blank">$1</a>').replace(/\*\*(.+?)\*\*/g,'<b>$1</b>').replace(/`([^`]+)`/g,'<code style="background:#f0f0f0;padding:2px 6px;border-radius:4px;font-size:12px;color:#333">$1</code>').replace(/\n/g,'<br>');
      box.innerHTML += '<div style="background:#fff;padding:12px 16px;border-radius:14px;color:#333;font-size:13px;max-width:85%;line-height:1.6;box-shadow:0 1px 3px rgba(0,0,0,0.08)">'+html+'</div>';
      u.count++; setUsage(u); checkUsage();
      saveChatHistory();
    } catch(e) {
      document.getElementById('typing')?.remove();
      box.innerHTML += '<div style="background:#fff;border:1px solid #e0e0e0;padding:12px 16px;border-radius:14px;color:#c00;font-size:13px">일시적 오류가 발생했습니다. 다시 시도해주세요.</div>';
      saveChatHistory();
    }
    box.scrollTop = box.scrollHeight;
  }
  </script>
</body>
</html>