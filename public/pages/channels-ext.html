<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì±„ë„ í™•ì¥ ì˜¤ë¥˜ - OpenClaw Guide</title>
  <link rel="stylesheet" href="../css/style.css">
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@7.0.0"></script>
</head>
<body>
    <header class="mobile-header" id="mobileHeader">
      <button class="hamburger" id="hamburgerBtn" aria-label="ë©”ë‰´ ì—´ê¸°">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
      </button>
      <span class="mobile-title">OpenClaw Guide</span>
    </header><div class="sidebar-overlay" id="sidebarOverlay"></div>
  <div class="layout">
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <a href="../index.html" class="sidebar-logo">
          <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
          OpenClaw <span>Guide</span>
        </a>
        <button class="sidebar-close" id="sidebarClose" aria-label="ë©”ë‰´ ë‹«ê¸°">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
        </button>
      </div>
      
      <nav>
        <ul class="sidebar-nav">
          <li><a href="../index.html">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
            í™ˆ
          </a></li>
        </ul>
        
        <div class="sidebar-section">ì¹´í…Œê³ ë¦¬</div>
        <ul class="sidebar-nav">
          <li><a href="windows.html">1. Windows ì „ìš© ì˜¤ë¥˜</a></li>
          <li><a href="macos.html">2. macOS ì „ìš© ì˜¤ë¥˜</a></li>
          <li><a href="linux.html">3. Linux ì „ìš© ì˜¤ë¥˜</a></li>
          <li><a href="virtualenv.html">4. ê°€ìƒí™˜ê²½ ì„¤ì • ì˜¤ë¥˜</a></li>
          <li><a href="common.html">5. ê³µí†µ ì˜¤ë¥˜</a></li>
          <li><a href="oauth.html">6. ì¸ì¦ (OAuth) ì˜¤ë¥˜</a></li>
          <li><a href="gateway.html">7. ê²Œì´íŠ¸ì›¨ì´ ì ‘ì† ì˜¤ë¥˜</a></li>
          <li><a href="channels.html">8. ì±„ë„ í†µí•© ì˜¤ë¥˜</a></li>
          <li><a href="client.html">9. í´ë¼ì´ì–¸íŠ¸ ì—°ê²° ì˜¤ë¥˜</a></li>
          <li><a href="runtime.html">10. ëŸ°íƒ€ì„ ì˜¤ë¥˜</a></li>
          <li><a href="browser.html">11. ë¸Œë¼ìš°ì € ë„êµ¬ ì˜¤ë¥˜</a></li>
          <li><a href="channels-ext.html" class="active">12. ì±„ë„ í™•ì¥ ì˜¤ë¥˜</a></li>
          <li><a href="skills.html">13. ìŠ¤í‚¬ &amp; ëª¨ë¸ ì˜¤ë¥˜</a></li>
        </ul>
        
        <div class="sidebar-section">ë¦¬ì†ŒìŠ¤</div>
        <ul class="sidebar-nav">
          <li><a href="https://github.com/anthropics/openclaw" target="_blank" rel="noopener">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/></svg>
            GitHub
          </a></li>
          <li><a href="https://open.kakao.com/o/gugo7tCh" target="_blank" rel="noopener">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
            VoidLight ì±„íŒ…ë°©
          </a></li>
        </ul>
      </nav>
    </aside>
    <main class="main">
      <h1>ì±„ë„ í™•ì¥ ì˜¤ë¥˜</h1>
      <p class="page-subtitle">6ê°œì˜ ì˜¤ë¥˜ ìœ í˜• | ì´ 10ê°œì˜ í•´ê²° ë°©ë²•</p>
      
      <div class="search-bar">
        <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
        <input type="text" id="searchInput" placeholder="ì˜¤ë¥˜ ê²€ìƒ‰..." class="search-input">
      </div>

      <div class="accordion">
        <div class="accordion-item">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <div class="accordion-title-row">
              <span class="badge badge-high">ì‹¬ê°</span>
              <h2>WhatsApp ì—°ë™ ì˜¤ë¥˜ (QR ìŠ¤ìº” / ì„¸ì…˜ ë§Œë£Œ)</h2>
            </div>
            <div class="accordion-meta">
              <span class="solve-time">10ë¶„</span>
              <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </div>
          </div>
          <div class="accordion-body">
            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                ì¦ìƒ
              </h3>
              <ul class="symptom-list">
                <li>WhatsApp QR ì½”ë“œê°€ í‘œì‹œë˜ì§€ ì•Šê±°ë‚˜ ìŠ¤ìº” ì‹¤íŒ¨</li>
                <li>ì—°ê²° í›„ 'logged out' ë˜ëŠ” 'unlinked' ìƒíƒœ</li>
                <li>ë¡œê·¸ì— 'disconnect', 'logout' ì´ë²¤íŠ¸ ë°˜ë³µ</li>
                <li>selfChatModeì—ì„œ ìê¸° ë©”ì‹œì§€ ì²˜ë¦¬ ì´ìƒ</li>
              </ul>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                ì›ì¸
              </h3>
              <div class="cause-block">
                <p>WhatsApp Web(Baileys)ì€ QR ì½”ë“œë¥¼ í†µí•´ Linked Deviceë¡œ ë“±ë¡ë©ë‹ˆë‹¤. ì„¸ì…˜ì´ ë§Œë£Œë˜ê±°ë‚˜ WhatsApp ì•±ì—ì„œ ì—°ê²° í•´ì œí•˜ë©´ ì¬ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤. ë˜í•œ Node.jsê°€ ì•„ë‹Œ Bunìœ¼ë¡œ ì‹¤í–‰í•˜ë©´ WhatsApp ì±„ë„ì´ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
              </div>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                í•´ê²° ë°©ë²•
              </h3>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>ë°©ë²• A: QR ì¬ìŠ¤ìº”ìœ¼ë¡œ ì¬ì¸ì¦</h4>
                  <div class="trust-level">
                    <span class="trust-label">ì‹ ë¢°ë„</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                  </div>
                  <pre><code># ê¸°ì¡´ ì„¸ì…˜ ë¡œê·¸ì•„ì›ƒ
openclaw channels logout

# ì¸ì¦ ì •ë³´ ì •ë¦¬ (logoutì´ ì™„ì „í•˜ì§€ ì•Šì„ ë•Œ)
trash &quot;${OPENCLAW_STATE_DIR:-$HOME/.openclaw}/credentials&quot;

# QR ì½”ë“œë¡œ ì¬ë¡œê·¸ì¸
openclaw channels login --verbose

# ê²Œì´íŠ¸ì›¨ì´ ì¬ì‹œì‘
openclaw gateway restart</code></pre>
                </div>
              </div>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>ë°©ë²• B: ìƒíƒœ í™•ì¸ ë° self-chat ì„¤ì •</h4>
                  <div class="trust-level">
                    <span class="trust-label">ì‹ ë¢°ë„</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                  </div>
                  <pre><code># ì—°ê²° ìƒíƒœ ì‹¬ì¸µ í™•ì¸
openclaw status --deep

# ìµœê·¼ ì—°ê²° ì´ë²¤íŠ¸ í™•ì¸
openclaw logs --limit 200 | grep 'connection\|disconnect\|logout'

# self-chat ëª¨ë“œ (ìê¸° ë²ˆí˜¸ë¡œ ì‚¬ìš© ì‹œ):
# openclaw.jsonì— ì¶”ê°€
{
  &quot;channels&quot;: {
    &quot;whatsapp&quot;: {
      &quot;selfChatMode&quot;: true,
      &quot;dmPolicy&quot;: &quot;allowlist&quot;,
      &quot;allowFrom&quot;: [&quot;+821012345678&quot;]
    }
  }
}</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <div class="accordion-title-row">
              <span class="badge badge-medium">ë³´í†µ</span>
              <h2>Slack ì—°ë™ ì˜¤ë¥˜</h2>
            </div>
            <div class="accordion-meta">
              <span class="solve-time">15ë¶„</span>
              <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </div>
          </div>
          <div class="accordion-body">
            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                ì¦ìƒ
              </h3>
              <ul class="symptom-list">
                <li>Slack ë´‡ì´ ë©”ì‹œì§€ì— ë°˜ì‘í•˜ì§€ ì•ŠìŒ</li>
                <li>Socket Mode ì—°ê²° ì‹¤íŒ¨</li>
                <li>'xapp-' ë˜ëŠ” 'xoxb-' í† í° ê´€ë ¨ ì—ëŸ¬</li>
                <li>ë´‡ì´ ì±„ë„ì— ì´ˆëŒ€ë˜ì§€ ì•Šì•„ ë©”ì‹œì§€ ìˆ˜ì‹  ë¶ˆê°€</li>
                <li>Message Content Intent ëˆ„ë½</li>
              </ul>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                ì›ì¸
              </h3>
              <div class="cause-block">
                <p>Slackì€ Socket Mode(ì‹¤ì‹œê°„) ë˜ëŠ” HTTP Webhook ëª¨ë“œë¡œ ì‘ë™í•©ë‹ˆë‹¤. App Token(xapp-...)ê³¼ Bot Token(xoxb-...)ì´ ëª¨ë‘ í•„ìš”í•˜ë©°, Event Subscriptionsì—ì„œ message.* ì´ë²¤íŠ¸ êµ¬ë…ê³¼ ë´‡ì˜ ì±„ë„ ì´ˆëŒ€ê°€ í•„ìˆ˜ì…ë‹ˆë‹¤.</p>
              </div>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                í•´ê²° ë°©ë²•
              </h3>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>ë°©ë²• A: Slack ì•± ì„¤ì • í™•ì¸</h4>
                  <div class="trust-level">
                    <span class="trust-label">ì‹ ë¢°ë„</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                  </div>
                  <pre><code># 1. https://api.slack.com/apps ì—ì„œ ì•± ì„¤ì • í™•ì¸
# 2. Socket Modeê°€ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
# 3. App-Level Token (xapp-...) í™•ì¸/ì¬ìƒì„±
# 4. Bot User OAuth Token (xoxb-...) í™•ì¸

# í† í° ì„¤ì • (í™˜ê²½ ë³€ìˆ˜ ê¶Œì¥)
export SLACK_APP_TOKEN=xapp-...
export SLACK_BOT_TOKEN=xoxb-...

# ë˜ëŠ” ì„¤ì • íŒŒì¼:
openclaw config set channels.slack.enabled true
openclaw config set channels.slack.appToken 'xapp-...'
openclaw config set channels.slack.botToken 'xoxb-...'

openclaw gateway restart
openclaw channels status --probe</code></pre>
                </div>
              </div>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>ë°©ë²• B: ì´ë²¤íŠ¸ ë° ê¶Œí•œ ì ê²€</h4>
                  <div class="trust-level">
                    <span class="trust-label">ì‹ ë¢°ë„</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                  </div>
                  <pre><code># Slack ì•± ì„¤ì •ì—ì„œ í™•ì¸í•  í•­ëª©:
# Event Subscriptions -&gt; í™œì„±í™”
#   - message.channels, message.groups, message.im, message.mpim
#   - app_mention
#   - reaction_added, reaction_removed
# OAuth Scopes -&gt; Bot Token Scopes:
#   - chat:write, channels:history, groups:history
#   - im:history, mpim:history, reactions:read, reactions:write
# App Home -&gt; Messages Tab í™œì„±í™” (DM í—ˆìš©)

# ë´‡ì„ ì±„ë„ì— ì´ˆëŒ€
# Slackì—ì„œ: /invite @ë´‡ì´ë¦„</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <div class="accordion-title-row">
              <span class="badge badge-medium">ë³´í†µ</span>
              <h2>Signal ì—°ë™ ì˜¤ë¥˜</h2>
            </div>
            <div class="accordion-meta">
              <span class="solve-time">20ë¶„</span>
              <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </div>
          </div>
          <div class="accordion-body">
            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                ì¦ìƒ
              </h3>
              <ul class="symptom-list">
                <li>Signal ë©”ì‹œì§€ ì†¡ìˆ˜ì‹  ë¶ˆê°€</li>
                <li>signal-cli ë°ëª¬ ì—°ê²° ì‹¤íŒ¨</li>
                <li>'signal-cli: command not found' ì—ëŸ¬</li>
                <li>Signal ë²ˆí˜¸ ë“±ë¡/ë§í¬ ì‹¤íŒ¨</li>
              </ul>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                ì›ì¸
              </h3>
              <div class="cause-block">
                <p>Signal ì±„ë„ì€ ì™¸ë¶€ CLIì¸ signal-cli(Java í•„ìš”)ë¥¼ í†µí•´ JSON-RPC + SSEë¡œ í†µì‹ í•©ë‹ˆë‹¤. signal-cliê°€ ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ê±°ë‚˜, ë””ë°”ì´ìŠ¤ ë§í¬ê°€ í•´ì œë˜ì—ˆê±°ë‚˜, Java ëŸ°íƒ€ì„ì´ ì—†ìœ¼ë©´ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
              </div>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                í•´ê²° ë°©ë²•
              </h3>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>ë°©ë²• A: signal-cli ì„¤ì¹˜ ë° ë””ë°”ì´ìŠ¤ ë§í¬</h4>
                  <div class="trust-level">
                    <span class="trust-label">ì‹ ë¢°ë„</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                  </div>
                  <pre><code># Java ì„¤ì¹˜ (í•„ìˆ˜)
# macOS: brew install openjdk
# Ubuntu: sudo apt install default-jre

# signal-cli ì„¤ì¹˜
# https://github.com/AsamK/signal-cli/releases ì—ì„œ ë‹¤ìš´ë¡œë“œ

# ë””ë°”ì´ìŠ¤ ë§í¬
signal-cli link -n 'OpenClaw'
# QR ì½”ë“œê°€ í‘œì‹œë˜ë©´ Signal ì•±ì—ì„œ ìŠ¤ìº”

# OpenClaw ì„¤ì •
openclaw config set channels.signal.enabled true
openclaw config set channels.signal.account '+821012345678'
openclaw config set channels.signal.cliPath 'signal-cli'

openclaw gateway restart</code></pre>
                </div>
              </div>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>ë°©ë²• B: signal-cli ë°ëª¬ ìˆ˜ë™ ì‹œì‘</h4>
                  <div class="trust-level">
                    <span class="trust-label">ì‹ ë¢°ë„</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                  </div>
                  <pre><code># signal-cli ë°ëª¬ì´ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
# signal-cliëŠ” HTTP JSON-RPC ëª¨ë“œë¡œ ì‹¤í–‰ë˜ì–´ì•¼ í•¨
signal-cli -a '+821012345678' daemon --http localhost:7583

# ë³„ë„ ë²ˆí˜¸ ì‚¬ìš© ê¶Œì¥ (ìê¸° ë©”ì‹œì§€ ë£¨í”„ ë°©ì§€)
# ê°œì¸ Signal ê³„ì •ìœ¼ë¡œ ì‹¤í–‰í•˜ë©´ ìê¸° ë©”ì‹œì§€ê°€ ë¬´ì‹œë¨</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <div class="accordion-title-row">
              <span class="badge badge-medium">ë³´í†µ</span>
              <h2>iMessage ì—°ë™ ì˜¤ë¥˜</h2>
            </div>
            <div class="accordion-meta">
              <span class="solve-time">15ë¶„</span>
              <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </div>
          </div>
          <div class="accordion-body">
            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                ì¦ìƒ
              </h3>
              <ul class="symptom-list">
                <li>iMessage ë©”ì‹œì§€ê°€ OpenClawì— ë„ë‹¬í•˜ì§€ ì•ŠìŒ</li>
                <li>'imsg: command not found' ì—ëŸ¬</li>
                <li>macOS ê¶Œí•œ í”„ë¡¬í”„íŠ¸ (Full Disk Access) ê±°ë¶€</li>
                <li>chat.db ì ‘ê·¼ ê¶Œí•œ ì—†ìŒ</li>
              </ul>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                ì›ì¸
              </h3>
              <div class="cause-block">
                <p>iMessageëŠ” macOS ì „ìš©ì´ë©° imsg CLI(ë ˆê±°ì‹œ) ë˜ëŠ” BlueBubblesë¥¼ í†µí•´ ì‘ë™í•©ë‹ˆë‹¤. Messages ì•±ì´ ë¡œê·¸ì¸ë˜ì–´ ìˆì–´ì•¼ í•˜ê³ , Full Disk Access ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤. ìƒˆ ì„¤ì¹˜ëŠ” BlueBubblesë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.</p>
              </div>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                í•´ê²° ë°©ë²•
              </h3>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>ë°©ë²• A: BlueBubbles ì‚¬ìš© (ê¶Œì¥, ì‹ ê·œ ì„¤ì¹˜)</h4>
                  <div class="trust-level">
                    <span class="trust-label">ì‹ ë¢°ë„</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                  </div>
                  <pre><code># BlueBubblesëŠ” iMessageì˜ ê¶Œì¥ ë°±ì—”ë“œì…ë‹ˆë‹¤
# https://bluebubbles.app ì—ì„œ ì„¤ì¹˜

# OpenClaw ì„¤ì •ì—ì„œ BlueBubbles ì±„ë„ í™œì„±í™”
# ìƒì„¸: openclaw ê³µì‹ ë¬¸ì„œì˜ /channels/bluebubbles ì°¸ì¡°</code></pre>
                </div>
              </div>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>ë°©ë²• B: ë ˆê±°ì‹œ imsg ì„¤ì • (ê¸°ì¡´ ì‚¬ìš©ì)</h4>
                  <div class="trust-level">
                    <span class="trust-label">ì‹ ë¢°ë„</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                  </div>
                  <pre><code># imsg CLI ì„¤ì¹˜
brew install steipete/tap/imsg

# macOS ê¶Œí•œ ì„¤ì •:
# ì‹œìŠ¤í…œ ì„¤ì • -&gt; ê°œì¸ ì •ë³´ ë³´í˜¸ -&gt; Full Disk Access
# í„°ë¯¸ë„ ì•± ë˜ëŠ” OpenClaw í”„ë¡œì„¸ìŠ¤ ì¶”ê°€

# OpenClaw ì„¤ì •
openclaw config set channels.imessage.enabled true
openclaw config set channels.imessage.cliPath '/usr/local/bin/imsg'
openclaw config set channels.imessage.dbPath '/Users/$USER/Library/Messages/chat.db'

openclaw gateway restart</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <div class="accordion-title-row">
              <span class="badge badge-high">ì‹¬ê°</span>
              <h2>WhatsApp ê°€ìƒë²ˆí˜¸ ì‚¬ìš© ì‹œ ì°¨ë‹¨</h2>
            </div>
            <div class="accordion-meta">
              <span class="solve-time">30ë¶„</span>
              <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </div>
          </div>
          <div class="accordion-body">
            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                ì¦ìƒ
              </h3>
              <ul class="symptom-list">
                <li>WhatsApp ì¸ì¦ ì‹œ ë²ˆí˜¸ê°€ ì°¨ë‹¨ë¨</li>
                <li>TextNow/Google Voice ë²ˆí˜¸ë¡œ ê°€ì… ë¶ˆê°€</li>
                <li>WhatsAppì—ì„œ ê³„ì •ì´ ì •ì§€ë¨</li>
              </ul>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                ì›ì¸
              </h3>
              <div class="cause-block">
                <p>WhatsAppì€ TextNow, Google Voice ë“± ê°€ìƒë²ˆí˜¸ë¥¼ ì ê·¹ì ìœ¼ë¡œ ì°¨ë‹¨í•¨. ì‹¤ì œ í†µì‹ ì‚¬ SIM ì¹´ë“œ ë²ˆí˜¸ê°€ í•„ìš” (ì¶œì²˜: channels/whatsapp.md)</p>
              </div>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                í•´ê²° ë°©ë²•
              </h3>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>ë°©ë²• A: ì‹¤ì œ SIM ì¹´ë“œ ì‚¬ìš©</h4>
                  <div class="trust-level">
                    <span class="trust-label">ì‹ ë¢°ë„</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                  </div>
                  <pre><code># WhatsAppì€ ì‹¤ì œ í†µì‹ ì‚¬ ë²ˆí˜¸ë§Œ ì•ˆì •ì ìœ¼ë¡œ ì§€ì›
# ê¶Œì¥:
# - ë¡œì»¬ í†µì‹ ì‚¬ eSIM ë˜ëŠ” ì„ ë¶ˆ SIM
# - ë²ˆí˜¸ëŠ” ìµœì´ˆ SMS ì¸ì¦ 1íšŒë§Œ í•„ìš”
# - ì´í›„ creds.jsonìœ¼ë¡œ ì„¸ì…˜ ìœ ì§€

# í”¼í•´ì•¼ í•  ë²ˆí˜¸:
# - TextNow, Google Voice, ë¬´ë£Œ SMS ì„œë¹„ìŠ¤
# - WhatsAppì´ ì ê·¹ ì°¨ë‹¨í•¨</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <div class="accordion-title-row">
              <span class="badge badge-medium">ë³´í†µ</span>
              <h2>WhatsApp ì„¸ì…˜ ë§Œë£Œ (creds.json ê°±ì‹  í•„ìš”)</h2>
            </div>
            <div class="accordion-meta">
              <span class="solve-time">5ë¶„</span>
              <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </div>
          </div>
          <div class="accordion-body">
            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                ì¦ìƒ
              </h3>
              <ul class="symptom-list">
                <li>WhatsApp ë´‡ì´ ê°‘ìê¸° ì‘ë‹µí•˜ì§€ ì•ŠìŒ</li>
                <li>ë¡œê·¸ì— 'logged out' ë˜ëŠ” ì†Œì¼“ ì—ëŸ¬</li>
                <li>QR ì½”ë“œ ì¬ìŠ¤ìº” ìš”êµ¬</li>
              </ul>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                ì›ì¸
              </h3>
              <div class="cause-block">
                <p>WhatsApp Web ì„¸ì…˜(creds.json)ì´ ë§Œë£Œë˜ë©´ ì¬ì¸ì¦ì´ í•„ìš”. ì¥ê¸°ê°„ ë¯¸ì‚¬ìš© ë˜ëŠ” WhatsApp ëª¨ë°”ì¼ì—ì„œ ì—°ê²° í•´ì œ ì‹œ ë°œìƒ (ì¶œì²˜: channels/whatsapp.md)</p>
              </div>
            </div>

            <div class="error-section">
              <h3>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                í•´ê²° ë°©ë²•
              </h3>
              <div class="solution-card">
                <div class="solution-header">
                  <h4>ë°©ë²• A: QR ì½”ë“œ ì¬ìŠ¤ìº”ìœ¼ë¡œ ì¬ì—°ê²°</h4>
                  <div class="trust-level">
                    <span class="trust-label">ì‹ ë¢°ë„</span>
                    <span class="trust-stars"><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg class="star filled" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                  </div>
                </div>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                  </div>
                  <pre><code># 1. ê²Œì´íŠ¸ì›¨ì´ ì¬ì‹œì‘í•˜ì—¬ QR ì½”ë“œ ìƒì„±
openclaw gateway restart

# 2. ë¡œê·¸ì—ì„œ QR ì½”ë“œ í™•ì¸
openclaw logs --follow

# 3. WhatsApp ëª¨ë°”ì¼ ì•±ì—ì„œ:
#    ì„¤ì • â†’ ì—°ê²°ëœ ê¸°ê¸° â†’ ê¸°ê¸° ì—°ê²° â†’ QR ì½”ë“œ ìŠ¤ìº”

# ì„¸ì…˜ì€ ~/.openclaw/credentials/whatsapp/ ì— ì €ì¥ë¨</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <footer class="site-footer">
        <div class="footer-content">
          <p>OpenClaw Error Guide vv3.0 | ìµœì¢… ì—…ë°ì´íŠ¸: 2026-02-10</p>
          <div class="footer-links">
            <a href="https://github.com/anthropics/openclaw" target="_blank" rel="noopener">GitHub</a>
            <a href="https://openclaw.ai" target="_blank" rel="noopener">OpenClaw</a>
            <a href="https://open.kakao.com/o/gugo7tCh" target="_blank" rel="noopener">VoidLight ì±„íŒ…ë°©</a>
          </div>
        </div>
      </footer>
    </main>
  </div>
    <button class="back-to-top" id="backToTop" aria-label="ë§¨ ìœ„ë¡œ">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="18 15 12 9 6 15"/></svg>
    </button>
  <script>
    // Copy code
    function copyCode(btn) {
      const pre = btn.closest('.code-block').querySelector('pre');
      const code = pre.textContent;
      navigator.clipboard.writeText(code).then(() => {
        btn.textContent = 'ì™„ë£Œ';
        setTimeout(() => btn.textContent = 'ë³µì‚¬', 2000);
      });
    }

    // Accordion toggle
    function toggleAccordion(header) {
      const item = header.parentElement;
      const isOpen = item.classList.contains('open');
      // Close all in same parent
      item.parentElement.querySelectorAll('.accordion-item.open').forEach(el => {
        if (el !== item) el.classList.remove('open');
      });
      item.classList.toggle('open', !isOpen);
    }

    // Mobile sidebar
    const hamburger = document.getElementById('hamburgerBtn');
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('sidebarOverlay');
    const closeBtn = document.getElementById('sidebarClose');
    
    function openSidebar() {
      sidebar.classList.add('open');
      overlay.classList.add('show');
      document.body.style.overflow = 'hidden';
    }
    function closeSidebar() {
      sidebar.classList.remove('open');
      overlay.classList.remove('show');
      document.body.style.overflow = '';
    }
    
    if (hamburger) hamburger.addEventListener('click', openSidebar);
    if (overlay) overlay.addEventListener('click', closeSidebar);
    if (closeBtn) closeBtn.addEventListener('click', closeSidebar);

    // Back to top
    const backToTop = document.getElementById('backToTop');
    const mainEl = document.querySelector('.main');
    if (mainEl && backToTop) {
      mainEl.addEventListener('scroll', () => {
        backToTop.classList.toggle('show', mainEl.scrollTop > 400);
      });
      backToTop.addEventListener('click', () => {
        mainEl.scrollTo({ top: 0, behavior: 'smooth' });
      });
    }

    // Fuzzy Search (Fuse.js)
    const searchInput = document.getElementById('searchInput');
    if (searchInput && typeof Fuse !== 'undefined') {
      const items = Array.from(document.querySelectorAll('.accordion-item, .search-target'));
      const fuseList = items.map((el, i) => ({ idx: i, text: el.textContent }));
      const fuse = new Fuse(fuseList, {
        keys: ['text'],
        threshold: 0.4,
        distance: 200,
        minMatchCharLength: 2,
        ignoreLocation: true
      });
      searchInput.addEventListener('input', (e) => {
        const query = e.target.value.trim();
        if (!query) {
          items.forEach(el => el.style.display = '');
          document.querySelectorAll('.category-section').forEach(s => s.style.display = '');
          return;
        }
        const results = fuse.search(query);
        const matchedIdx = new Set(results.map(r => r.item.idx));
        items.forEach((el, i) => el.style.display = matchedIdx.has(i) ? '' : 'none');
        // Show/hide category sections based on visible cards
        document.querySelectorAll('.category-section').forEach(sec => {
          const hasVisible = sec.querySelectorAll('.card:not([style*="display: none"])').length > 0;
          sec.style.display = hasVisible ? '' : 'none';
        });
      });
    }
  </script>

  <!-- AI Chatbot -->
  <div id="chatbot-fab" onclick="toggleChat()" style="position:fixed;bottom:24px;right:24px;width:56px;height:56px;border-radius:50%;background:linear-gradient(135deg,#6366f1,#8b5cf6);color:white;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 4px 20px rgba(99,102,241,0.4);z-index:9999;font-size:24px;transition:transform 0.2s" onmouseover="this.style.transform='scale(1.1)'" onmouseout="this.style.transform='scale(1)'">ğŸ’¬</div>

  <div id="chatbot-panel" style="display:none;position:fixed;bottom:90px;right:24px;width:380px;max-height:520px;background:#1a1a2e;border:1px solid #333;border-radius:16px;box-shadow:0 8px 32px rgba(0,0,0,0.5);z-index:9999;overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,sans-serif">
    <div style="padding:14px 16px;background:linear-gradient(135deg,#6366f1,#8b5cf6);color:white;font-weight:600;display:flex;justify-content:space-between;align-items:center">
      <span>ğŸ¤– AI ì˜¤ë¥˜ ì§„ë‹¨</span>
      <span onclick="toggleChat()" style="cursor:pointer;font-size:18px">âœ•</span>
    </div>
    <div style="padding:10px 12px;background:#16162a;border-bottom:1px solid #333">
      <select id="chat-provider" style="width:48%;padding:6px;border-radius:8px;border:1px solid #444;background:#1a1a2e;color:#ddd;font-size:12px;margin-right:2%">
        <option value="groq">Groq (ë¬´ë£Œ)</option>
        <option value="gemini">Google Gemini</option>
        <option value="openai">OpenAI</option>
        <option value="anthropic">Anthropic</option>
      </select>
      <input id="chat-apikey" type="password" placeholder="API Key ì…ë ¥" style="width:48%;padding:6px;border-radius:8px;border:1px solid #444;background:#1a1a2e;color:#ddd;font-size:12px">
    </div>
    <div id="chat-messages" style="height:300px;overflow-y:auto;padding:12px;display:flex;flex-direction:column;gap:8px">
      <div style="background:#2a2a4a;padding:10px 14px;border-radius:12px;color:#ccc;font-size:13px;max-width:85%">
        ì•ˆë…•í•˜ì„¸ìš”! ì˜¤ë¥˜ ì¦ìƒì„ ì„¤ëª…í•´ì£¼ì„¸ìš”.<br>ì˜ˆ: "ì„¤ì¹˜í–ˆëŠ”ë° í™”ë©´ì´ ì•ˆ ë– ìš”"
      </div>
    </div>
    <div style="padding:10px 12px;border-top:1px solid #333;display:flex;gap:8px">
      <input id="chat-input" type="text" placeholder="ì¦ìƒì´ë‚˜ ì˜¤ë¥˜ ë©”ì‹œì§€ ì…ë ¥..." onkeydown="if(event.key==='Enter')sendChat()" style="flex:1;padding:10px 14px;border-radius:24px;border:1px solid #444;background:#16162a;color:#ddd;font-size:13px;outline:none">
      <button onclick="sendChat()" style="padding:10px 16px;border-radius:24px;border:none;background:#6366f1;color:white;cursor:pointer;font-size:13px;font-weight:600">ì „ì†¡</button>
    </div>
  </div>

  <script>
  function toggleChat() {
    const p = document.getElementById('chatbot-panel');
    p.style.display = p.style.display === 'none' ? 'block' : 'none';
    // Load saved API key
    const saved = localStorage.getItem('ochat_key');
    const savedP = localStorage.getItem('ochat_provider');
    if (saved) document.getElementById('chat-apikey').value = saved;
    if (savedP) document.getElementById('chat-provider').value = savedP;
  }
  async function sendChat() {
    const input = document.getElementById('chat-input');
    const msg = input.value.trim();
    if (!msg) return;
    const apiKey = document.getElementById('chat-apikey').value.trim();
    const provider = document.getElementById('chat-provider').value;
    if (!apiKey) { alert('API Keyë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”'); return; }
    // Save
    localStorage.setItem('ochat_key', apiKey);
    localStorage.setItem('ochat_provider', provider);

    const box = document.getElementById('chat-messages');
    box.innerHTML += '<div style="background:#6366f1;padding:10px 14px;border-radius:12px;color:white;font-size:13px;max-width:85%;align-self:flex-end">'+msg.replace(/</g,'&lt;')+'</div>';
    input.value = '';
    box.innerHTML += '<div id="typing" style="background:#2a2a4a;padding:10px 14px;border-radius:12px;color:#888;font-size:13px">ë¶„ì„ ì¤‘...</div>';
    box.scrollTop = box.scrollHeight;

    try {
      const r = await fetch('/api/chat', {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify({ message: msg, provider, apiKey })
      });
      const d = await r.json();
      document.getElementById('typing')?.remove();
      if (d.error) throw new Error(d.error);
      // Simple markdown: bold, code, newlines
      let html = d.answer.replace(/</g,'&lt;').replace(/\*\*(.+?)\*\*/g,'<b>$1</b>').replace(/`(.+?)`/g,'<code style="background:#333;padding:2px 4px;border-radius:3px;font-size:12px">$1</code>').replace(/\n/g,'<br>');
      box.innerHTML += '<div style="background:#2a2a4a;padding:10px 14px;border-radius:12px;color:#ccc;font-size:13px;max-width:85%;line-height:1.5">'+html+'</div>';
    } catch(e) {
      document.getElementById('typing')?.remove();
      box.innerHTML += '<div style="background:#4a1a1a;padding:10px 14px;border-radius:12px;color:#f88;font-size:13px">ì˜¤ë¥˜: '+e.message+'</div>';
    }
    box.scrollTop = box.scrollHeight;
  }
  </script>
</body>
</html>